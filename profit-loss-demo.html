<!DOCTYPE html>
<html lang="ne">
<head>
<meta charset="UTF-8">
<title>farmerbase тАУ рдирд╛рдлрд╛ / рдШрд╛рдЯрд╛ рд╡рд┐рд╡рд░рдг (Demo)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  font-family:
   "Noto Sans Devanagari",
   "Kalimati",
   "Mangal",
   "Nirmala UI",
   system-ui,
   Arial,
   sans-serif;
  background:#f4f7f6;
  margin:0;
}
header{
  background:#2e7d32;
  color:#fff;
  padding:20px;
  text-align:center;
}
main{
  max-width:900px;
  margin:20px auto;
  background:#fff;
  padding:25px;
  border-radius:10px;
}
h2{color:#2e7d32}
.summary-box{
  border:1px solid #ddd;
  border-radius:8px;
  padding:15px;
  margin-top:20px;
}
.row{
  display:flex;
  justify-content:space-between;
  padding:10px 0;
  border-bottom:1px dashed #ccc;
}
.row:last-child{border-bottom:none}
.label{font-weight:600}
.value{font-weight:700}
.profit{color:#2e7d32}
.loss{color:#c62828}
.note{
  background:#eef6f0;
  padding:15px;
  margin-top:25px;
  border-left:5px solid #2e7d32;
}
footer{
  text-align:center;
  font-size:13px;
  color:#555;
  padding:15px;
}
</style>
</head>

<body>
<header>
<h1>ЁЯМ╛ farmerbase тАУ рдирд╛рдлрд╛ / рдШрд╛рдЯрд╛ рд╡рд┐рд╡рд░рдг</h1>
<p>Expense + Income рдЖрдзрд╛рд░рд┐рдд рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд╕рд╛рд░рд╛рдВрд╢</p>
</header>
  <h2>ЁЯУК рд╡рд╛рд░реНрд╖рд┐рдХ рд╡рд┐рддреНрддреАрдп рд╕рд╛рд░рд╛рдВрд╢</h2>

<div class="summary-box">

  <div class="row">
    <div class="label">рдХреБрд▓ рд╡рд╛рд░реНрд╖рд┐рдХ рдЦрд░реНрдЪ</div>
    <div class="value">рд░реБ. <span id="exp">0</span></div>
  </div>

  <div class="row">
    <div class="label">рдХреБрд▓ рд╡рд╛рд░реНрд╖рд┐рдХ рдЖрдореНрджрд╛рдиреА</div>
    <div class="value">рд░реБ. <span id="inc">0</span></div>
  </div>

  <div class="row">
    <div class="label">рдирд╛рдлрд╛ / рдШрд╛рдЯрд╛</div>
    <div class="value" id="netVal">0</div>
  </div>

</div>

<div class="note" id="noteText"></div>

<!-- ЁЯФН Debug box -->
<div style="margin-top:15px;font-size:13px;color:#555">
  <strong>Debug:</strong> <span id="debug"></span>
</div>

<main>
  <script>
function loadData(){
  let totalExpense = Number(localStorage.getItem("totalExpense")) || 0;
  let totalIncome  = Number(localStorage.getItem("totalIncome")) || 0;
  let net = totalIncome - totalExpense;

  document.getElementById("exp").innerText = totalExpense.toLocaleString();
  document.getElementById("inc").innerText = totalIncome.toLocaleString();

  let netBox = document.getElementById("netVal");
  let note   = document.getElementById("noteText");

  if(net > 0){
    netBox.innerHTML = `<span class="profit">рд░реБ. ${net.toLocaleString()} (рдирд╛рдлрд╛)</span>`;
    note.innerHTML =
      "Expense рд░ Income рд╡рд┐рд╡рд░рдгрдХрд╛ рдЖрдзрд╛рд░рдорд╛ рдкреНрд░рд╕реНрддрд╛рд╡рд┐рдд рд╡реНрдпрд╡рд╕рд╛рдпрдмрд╛рдЯ рд╡рд╛рд░реНрд╖рд┐рдХ рд░реВрдкрдорд╛ рдирд╛рдлрд╛ рдЖрд░реНрдЬрди рд╣реБрдиреЗ рджреЗрдЦрд┐рдПрдХреЛ рдЫред";
  }else if(net < 0){
    netBox.innerHTML = `<span class="loss">рд░реБ. ${Math.abs(net).toLocaleString()} (рдШрд╛рдЯрд╛)</span>`;
    note.innerHTML =
      "рдкреНрд░рд╛рд░рдореНрднрд┐рдХ рдЪрд░рдгрдорд╛ рдШрд╛рдЯрд╛ рджреЗрдЦрд┐рдП рдкрдирд┐ рдЖрдЧрд╛рдореА рд╡рд░реНрд╖рд╣рд░реВрдорд╛ рдирд╛рдлрд╛ рд╕рдореНрднрд╛рд╡рд┐рдд рдЫред";
  }else{
    netBox.innerHTML = "рд░реБ. 0 (рд╕рдиреНрддреБрд▓рд┐рдд)";
    note.innerHTML = "рдХреБрд▓ рдЦрд░реНрдЪ рд░ рдЖрдореНрджрд╛рдиреА рдмрд░рд╛рдмрд░ рдЫрдиреНред";
  }

  // ЁЯФН DEBUG (рддрдкрд╛рдИрдВрдХрд╛ рд▓рд╛рдЧрд┐)
  document.getElementById("debug").innerText =
    `Expense=${totalExpense} | Income=${totalIncome}`;
}

// ЁЯФБ Auto reload every 1 second
setInterval(loadData, 1000);

// First load
window.onload = loadData;
</script>

</main>

<footer>
┬й farmerbase BPMS Demo | Profit / Loss Summary
  
</footer>

</body><div style="margin-top:15px;font-size:13px;color:#555">
  <strong>Debug:</strong> <span id="debug"></span>
</div>

</html>
