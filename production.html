<!DOCTYPE html>
<html lang="ne">
<head>
  <meta charset="UTF-8">
  <title>Production</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f7f7f7;
      margin: 0;
      padding: 0;
    }

    header, footer {
      background: #2e7d32;
      color: #fff;
      padding: 12px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    header a, footer a {
      color: #fff;
      text-decoration: none;
      font-size: 18px;
      font-weight: bold;
    }

    .container {
      padding: 20px;
      max-width: 1000px;
      margin: auto;
      background: #fff;
      min-height: 70vh;
    }

    h1 {
      text-align: center;
      font-size: 32px;
      margin-bottom: 25px;
      color: #2e7d32;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }

    th, td {
      border: 1px solid #ccc;
      padding: 10px;
      text-align: center;
      font-size: 15px;
    }

    th {
      background: #e8f5e9;
    }

    input {
      width: 95%;
      padding: 6px;
      font-size: 14px;
    }

    .btn {
      padding: 6px 12px;
      cursor: pointer;
      border: none;
      font-size: 14px;
    }

    .add-btn {
      background: #2e7d32;
      color: white;
      margin-top: 10px;
    }

    .edit-btn {
      background: #0277bd;
      color: white;
    }

    .delete-btn {
      background: #c62828;
      color: white;
    }
  </style>
</head>
<body>

<header>
  <a href="business-detail.html">‚¨ÖÔ∏è Business Detail</a>
  <span>Farmer Base BP Engine</span>
  <a href="expense-demo.html">Expense ‚û°Ô∏è</a>
</header>

<div class="container">
  <h1>PRODUCTION</h1>

  <table id="productionTable">
    <thead>
      <tr>
        <th>‡§â‡§§‡•ç‡§™‡§æ‡§¶‡§® ‡§®‡§æ‡§Æ</th>
        <th>‡§á‡§ï‡§æ‡§à</th>
        <th>‡§™‡§∞‡§ø‡§Æ‡§æ‡§£</th>
        <th>‡§ï‡•à‡§´‡§ø‡§Ø‡§§</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <button class="btn add-btn" onclick="addRow()">‚ûï ‡§â‡§§‡•ç‡§™‡§æ‡§¶‡§® ‡§•‡§™‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç</button>
</div>

<footer>
  <a href="business-detail.html">‚¨ÖÔ∏è Business Detail</a>
  <span>Production Module</span>
  <a href="expense-demo.html">Expense ‚û°Ô∏è</a>
</footer>

<script>
  let productions = JSON.parse(localStorage.getItem("productions")) || [];

  function saveData() {
    localStorage.setItem("productions", JSON.stringify(productions));
  }

  function renderTable() {
    const tbody = document.querySelector("#productionTable tbody");
    tbody.innerHTML = "";

    productions.forEach((p, index) => {
      const row = document.createElement("tr");

      row.innerHTML = `
        <td><input value="${p.name}" onchange="update(${index}, 'name', this.value)"></td>
        <td><input value="${p.unit}" onchange="update(${index}, 'unit', this.value)"></td>
        <td><input type="number" value="${p.quantity}" onchange="update(${index}, 'quantity', this.value)"></td>
        <td><input value="${p.note}" onchange="update(${index}, 'note', this.value)"></td>
        <td>
          <button class="btn delete-btn" onclick="removeRow(${index})">üóëÔ∏è</button>
        </td>
      `;
      tbody.appendChild(row);
    });
  }

  function addRow() {
    productions.push({
      id: "p" + Date.now(),
      name: "",
      unit: "",
      quantity: "",
      note: ""
    });
    saveData();
    renderTable();
  }

  function update(index, field, value) {
    productions[index][field] = value;
    saveData();
  }

  function removeRow(index) {
    if (confirm("‡§Ø‡•ã ‡§â‡§§‡•ç‡§™‡§æ‡§¶‡§® ‡§π‡§ü‡§æ‡§â‡§®‡•á ‡§π‡•ã ?")) {
      productions.splice(index, 1);
      saveData();
      renderTable();
    }
  }

  renderTable();
</script>

</body>
</html>
