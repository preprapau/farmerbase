<!DOCTYPE html>
<html lang="ne">
<head>
<meta charset="UTF-8">
<title>farmerbase тАУ рд╡реНрдпрд╡рд╕рд╛рдпрдХреЛ рд╡рд┐рд╕реНрддреГрдд рд╡рд┐рд╡рд░рдг</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  font-family:"Noto Sans Devanagari","Kalimati","Mangal","Nirmala UI",system-ui,Arial;
  background:#f4f7f6;margin:0;
}
header{
  background:#2e7d32;color:#fff;
  padding:20px;text-align:center;
}
main{
  max-width:1000px;margin:20px auto;
  background:#fff;padding:25px;border-radius:10px;
}
h2{color:#2e7d32}
.topic{
  border:1px solid #ddd;
  border-radius:8px;
  padding:15px;
  margin-top:20px;
}
label{font-weight:600;display:block;margin-top:10px}
input,textarea{
  width:100%;padding:8px;margin-top:5px;
  font-family:inherit;
}
textarea{min-height:120px}
button{
  padding:8px 14px;
  background:#2e7d32;color:#fff;
  border:none;border-radius:6px;
  cursor:pointer;margin-top:10px;
}
.toc{
  background:#eef6f0;
  padding:15px;border-left:5px solid #2e7d32;
}
footer{text-align:center;font-size:13px;color:#555;padding:15px}

@media print{
  button{display:none}
  body{background:#fff}
  header{background:#fff;color:#000}
}
</style>
</head>

<body>

<header>
<h1>ЁЯУШ рд╡реНрдпрд╡рд╕рд╛рдпрдХреЛ рд╡рд┐рд╕реНрддреГрдд рд╡рд┐рд╡рд░рдг</h1>
<p>(Detailed Business Description)</p>
</header>

<main>

<h2>ЁЯУС рд╡рд┐рд╖рдпрд╕реВрдЪреА</h2>
<div class="toc" id="toc">
  <em>рд╡рд┐рд╖рдп рдердкрд┐рдПрдкрдЫрд┐ рдпрд╣рд╛рдБ рд╕реНрд╡рддрдГ рджреЗрдЦрд┐рдиреНрдЫ</em>
</div>

<h2 style="margin-top:30px">тЬНя╕П рд╡рд┐рд╖рдп рдердкреНрдиреБрд╣реЛрд╕реН</h2>

<div id="topics"></div>

<button onclick="addTopic()">тЮХ рдирдпрд╛рдБ рд╡рд┐рд╖рдп рдердкреНрдиреБрд╣реЛрд╕реН</button>
<button onclick="saveDetail()" style="margin-left:10px">ЁЯТ╛ Save</button>
<button onclick="window.print()" style="margin-left:10px">ЁЯЦия╕П Print</button>

</main>

<footer>
┬й farmerbase BPMS | Business Detail Page
</footer>

<script>
let topics = [];

function addTopic(title="", content=""){
  let index = topics.length + 1;
  let id = Date.now();

  topics.push({id,title,content});
  renderTopics();
}

function renderTopics(){
  let box = document.getElementById("topics");
  box.innerHTML = "";

  topics.forEach((t,i)=>{
    box.innerHTML += `
      <div class="topic">
        <label>${i+1}. рд╡рд┐рд╖рдп рд╢реАрд░реНрд╖рдХ</label>
        <input value="${t.title}"
          oninput="updateTopic(${t.id}, 'title', this.value)">

        <label>рд╡рд┐рд╡рд░рдг</label>
        <textarea
          oninput="updateTopic(${t.id}, 'content', this.value)">${t.content}</textarea>
      </div>
    `;
  });

  renderTOC();
}

function updateTopic(id, field, value){
  let t = topics.find(x=>x.id===id);
  if(t) t[field] = value;
  renderTOC();
}

function renderTOC(){
  let toc = document.getElementById("toc");
  if(topics.length === 0){
    toc.innerHTML = "<em>рд╡рд┐рд╖рдп рдердкрд┐рдПрдкрдЫрд┐ рдпрд╣рд╛рдБ рд╕реНрд╡рддрдГ рджреЗрдЦрд┐рдиреНрдЫ</em>";
    return;
  }
  let html = "<ol>";
  topics.forEach(t=>{
    if(t.title.trim())
      html += `<li>${t.title}</li>`;
  });
  html += "</ol>";
  toc.innerHTML = html;
}

function saveDetail(){
  localStorage.setItem("businessDetail", JSON.stringify(topics));
  alert("рд╡реНрдпрд╡рд╕рд╛рдп рд╡рд┐рд╡рд░рдг Save рднрдпреЛ");
}

function loadDetail(){
  let d = JSON.parse(localStorage.getItem("businessDetail"));
  if(d){
    topics = d;
    renderTopics();
  }
}

window.onload = loadDetail;
</script>

</body>
</html>
