<!DOCTYPE html>
<html lang="ne">
<head>
<meta charset="UTF-8">
<title>farmerbase тАУ рд╡реНрдпрд╡рд╕рд╛рдп рд╕рдВрдХреНрд╖рд┐рдкреНрдд рд╡рд┐рд╡рд░рдг</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  font-family:"Noto Sans Devanagari","Kalimati","Mangal","Nirmala UI",system-ui,Arial;
  background:#f4f7f6;margin:0;
}
header{
  background:#2e7d32;color:#fff;padding:20px;text-align:center;
}
main{
  max-width:900px;margin:20px auto;background:#fff;
  padding:25px;border-radius:10px;
}
h2{color:#2e7d32}
label{font-weight:600;display:block;margin-top:15px}
input,textarea{
  width:100%;padding:8px;margin-top:5px;font-family:inherit;
}
.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:15px;
}
.total-box{
  background:#eef6f0;
  padding:15px;
  border-left:5px solid #2e7d32;
  margin-top:20px;
}
button{
  padding:8px 16px;
  background:#2e7d32;color:#fff;
  border:none;border-radius:6px;cursor:pointer;
  margin-top:20px;
}
@media print{
  button{display:none}
  body{background:#fff}
  header{background:#fff;color:#000}
}
</style>
</head>

<body>

<header>
<h1>ЁЯМ╛ рд╡реНрдпрд╡рд╕рд╛рдпрд┐рдХ рдпреЛрдЬрдирд╛рдХреЛ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рд╡рд┐рд╡рд░рдг</h1>
<p>(Short Information / Executive Summary)</p>
</header>

<main>

<h2>ЁЯУМ рдЖрдзрд╛рд░рднреВрдд рд╡рд┐рд╡рд░рдг</h2>

<label>рез. рд╡реНрдпрд╡рд╕рд╛рдп рд╡рд╛ рдкреНрд░рд╕реНрддрд╛рд╡рдирд╛рдХреЛ рдирд╛рдо</label>
<input id="bp_name">

<label>реи. рд╕рдЮреНрдЪрд╛рд▓рди рд╣реБрдиреЗ рд╕реНрдерд╛рди</label>
<input id="bp_location">

<label>рей. рд╕рдЮреНрдЪрд╛рд▓рди рдЧрд░реНрдиреЗ рд╕рдВрд╕реНрдерд╛</label>
<input id="bp_org">

<label>рек. рдкреНрд░реЛрдкреНрд░рд╛рдЗрдЯрд░рдХреЛ рдирд╛рдо</label>
<input id="bp_owner">

<label>рел. рд╕рдореНрдкрд░реНрдХ рд╡реНрдпрдХреНрддрд┐</label>
<input id="bp_contact">

<label>рем. рдЙрддреНрдкрд╛рджрди рдЧрд░рд┐рдиреЗ рд╡рд╕реНрддреБрд╣рд░реВ</label>
<textarea id="bp_products"></textarea>

<label>рен. рдореБрдЦреНрдп рдмрдЬрд╛рд░</label>
<textarea id="bp_market"></textarea>

<h2>ЁЯТ░ рд▓рдЧрд╛рдиреА рддрдерд╛ рдкреНрд░рддрд┐рдлрд▓</h2>

<div class="grid">
  <div>
    <label>рео. рдХреБрд▓ рдкреБрдБрдЬреА (рд░реБ.)</label>
    <input id="total_capital">
  </div>
  <div>
    <label>рдЪрд╛рд▓реБ рдкреВрдБрдЬреА (рд░реБ.)</label>
    <input id="working_capital">
  </div>
  <div>
    <label>рд╕реНрдерд┐рд░ рдкреВрдБрдЬреА (рд░реБ.)</label>
    <input id="fixed_capital">
  </div>
</div>

<label>реп. рд╡рд╛рд░реНрд╖рд┐рдХ рдЦреБрдж рдирд╛рдлрд╛ (рел рд╡рд░реНрд╖рдХреЛ рд╕рд░рджрд░) рд░реБ.</label>
<input id="avg_profit" readonly>

<div class="grid">
  <div>
    <label>резреж. рд▓рдЧрд╛рдиреАрдХреЛ рдкреНрд░рддрд┐рдлрд▓ (%)</label>
    <input id="roi" readonly>
  </div>
  <div>
    <label>резрез. рд▓рдЧрд╛рдиреА рдлрд┐рд░реНрддрд╛ рдЕрд╡рдзрд┐ (рд╡рд░реНрд╖)</label>
    <input id="payback" readonly>
  </div>
</div>

<div class="total-box" id="autoText"></div>

<button onclick="saveShortInfo()">ЁЯТ╛ Save Info</button>
<button onclick="window.print()" style="margin-left:10px">ЁЯЦия╕П Print</button>

</main>

<script>
function autoFill(){
  // Auto from ROI page if exists
  let roi = localStorage.getItem("roi");
  let payback = localStorage.getItem("payback");
  let profit = localStorage.getItem("avgProfit");

  if(roi) document.getElementById("roi").value = roi;
  if(payback) document.getElementById("payback").value = payback;
  if(profit) document.getElementById("avg_profit").value = profit;

  if(roi && payback){
    document.getElementById("autoText").innerText =
      `рдкреНрд░рд╕реНрддрд╛рд╡рд┐рдд рд╡реНрдпрд╡рд╕рд╛рдпрдмрд╛рдЯ рел рд╡рд░реНрд╖рдХреЛ рдЕрд╡рдзрд┐рдорд╛
       рд▓рдЧрд╛рдиреАрдХреЛ рдкреНрд░рддрд┐рдлрд▓ ${roi}% рд░
       рд▓рдЧрд╛рдиреА рдлрд┐рд░реНрддрд╛ рдЕрд╡рдзрд┐ ${payback} рд╡рд░реНрд╖
       рд░рд╣рдиреЗ рджреЗрдЦрд┐рдиреНрдЫред`;
  }
}

function saveShortInfo(){
  let data = {};
  document.querySelectorAll("input, textarea").forEach(el=>{
    data[el.id] = el.value;
  });
  localStorage.setItem("shortInfo", JSON.stringify(data));
  alert("Short Info Save рднрдпреЛ");
}

function loadShortInfo(){
  let d = JSON.parse(localStorage.getItem("shortInfo"));
  if(!d) return;
  for(let k in d){
    let el = document.getElementById(k);
    if(el) el.value = d[k];
  }
}

window.onload = function(){
  loadShortInfo();
  autoFill();
};
</script>

</body>
</html>
